---
layout: single
title: "ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…"
categories: [basic]
tags: [basic, TIL]
toc: true
author_profile: true
---

# â˜• Spring ê³µë¶€ ê¸°ë¡

## ğŸ“˜ í•™ìŠµ ë‚ ì§œ
- 2025-07-09

## ğŸ“… ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©

### âœ¨ 1. ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²• 4ê°€ì§€

#### 1-1. ìƒì„±ì ì£¼ì…

- ìƒì„±ì í˜¸ì¶œì‹œì ì— ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒ ë³´ì¥
- ë¶ˆë³€, í•„ìˆ˜ ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©
- @RequiredArgsConstructorë¥¼ ì‚¬ìš©í•˜ê³ , final í•„ë“œë¥¼ ì„¤ì •í•´ ë‘ë©´ final í•„ë“œì— ëŒ€í•´ì„œ ì˜ì¡´ê´€ê³„ ì£¼ì…ì„ í•´ì£¼ê¸° ë•Œë¬¸ì—, ìƒì„±ì, @Autowired ëª¨ë‘ ìƒëµ ê°€ëŠ¥í•˜ë‹¤.

```markdown
 @Component
 public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
    @Autowired
public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy 
discountPolicy) {
 this.memberRepository = memberRepository;
 this.discountPolicy = discountPolicy;
    }
 }
```
- ìƒì„±ìê°€ ë”± 1ê°œë§Œ ìˆìœ¼ë©´ @Autowired ìƒëµ ê°€ëŠ¥

#### 1-2. ìˆ˜ì •ì ì£¼ì…(setter ì£¼ì…)

- í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” setter ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì˜ì¡´ê´€ê³„ ì£¼ì…í•˜ëŠ” ë°©ë²•
- ì„ íƒ, ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©
- ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ ìˆ˜ì •ì ë©”ì„œë“œ ë°©ì‹ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„

```markdown
 @Component
 public class OrderServiceImpl implements OrderService {
 private MemberRepository memberRepository;
 private DiscountPolicy discountPolicy;
    @Autowired
 public void setMemberRepository(MemberRepository memberRepository) {
 this.memberRepository = memberRepository;
    }
    @Autowired
 public void setDiscountPolicy(DiscountPolicy discountPolicy) {
 this.discountPolicy = discountPolicy;
    }
 }
```
#### 1-3 í•„ë“œ ì£¼ì…

- ì‚¬ìš©í•˜ì§€ ë§ì!

#### 1-4. ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…

- í•œë²ˆì— ì—¬ëŸ¬ í•„ë“œ ì£¼ì… ê°€ëŠ¥
- ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì‚¬ìš© X 
```markdown
@Component
 public class OrderServiceImpl implements OrderService {
 private MemberRepository memberRepository;
 private DiscountPolicy discountPolicy;
    @Autowired
 public void init(MemberRepository memberRepository, DiscountPolicy 
discountPolicy) {
 this.memberRepository = memberRepository;
 this.discountPolicy = discountPolicy;
    }
 }
```

### âœ¨ 2. ì˜µì…˜ ì²˜ë¦¬

ì£¼ì…í•  ìŠ¤í”„ë§ ë¹ˆì´ ì—†ì–´ë„ ë™ì‘í•´ì•¼ í•  ë•Œ, @Autowired ë§Œ ì‚¬ìš©í•˜ë©´ ìë™ ì£¼ì… ëŒ€ìƒì´ ì—†ìœ¼ë©´
ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

- ìë™ ì£¼ì… ëŒ€ìƒ ì˜µì…˜ ì²˜ë¦¬ ë°©ë²•ì€ @Autowired(required = false): ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ìˆ˜ì •ì ë©”ì„œë“œ ìì²´ê°€ í˜¸ì¶œ ì•ˆë¨
- @Nullable : ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ nullì´ ì…ë ¥ë¨.
- Optional<> : ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ Optional.emptyê°€ ì…ë ¥ë¨.
```markdown
 //í˜¸ì¶œ ì•ˆë¨
@Autowired(required = false)
 public void setNoBean1(Member member) {
    System.out.println("setNoBean1 = " + member);
 }
 //null í˜¸ì¶œ
@Autowired
 public void setNoBean2(@Nullable Member member) {
    System.out.println("setNoBean2 = " + member);
 }
 //Optional.empty í˜¸ì¶œ
@Autowired(required = false)
 public void setNoBean3(Optional<Member> member) {
    System.out.println("setNoBean3 = " + member);
 }
```

- ì´ ì½”ë“œì—ì„œ MemberëŠ” ìŠ¤í”„ë§ ë¹ˆì´ ì•„ë‹ˆë‹¤.

### âœ¨ 3. ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•´ë¼!
ìµœê·¼ì—ëŠ” ìŠ¤í”„ë§ì„ í¬í•¨í•œ DI í”„ë ˆì„ì›Œí¬ ëŒ€ë¶€ë¶„ì´ ìƒì„±ì ì£¼ì…ì„ ê¶Œì¥í•œë‹¤.
ê·¸ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. 

- ë¶ˆë³€ - ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ ì£¼ì…ì€ í•œë²ˆ ì¼ì–´ë‚˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œì ê¹Œì§€ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½í•  ì¼ì´ ì—†ë‹¤. ì˜¤íˆë ¤ ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì „ê¹Œì§€ ë³€í•˜ë©´ ì•ˆëœë‹¤.(ë¶ˆë³€í•´ì•¼í•¨)
- ìˆ˜ì •ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ setXxx ë©”ì„œë“œë¥¼ publicìœ¼ë¡œ ì—´ì–´ë†”ì•¼í•œë‹¤.
- ëˆ„êµ°ê°€ ì‹¤ìˆ˜ë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ê³ , ë³€ê²½í•˜ë©´ ì•ˆë˜ëŠ” ë©”ì„œë“œë¥¼ ì—´ì–´ë‘ëŠ” ê²ƒì€ ì¢‹ì€ ì„¤ê³„ X
- ìƒì„±ì ì£¼ì…ì€ ê°ì²´ ìƒì„±í•  ë–„ ë”± 1ë²ˆ í˜¸ì¶œë˜ë¯€ë¡œ, ë¶ˆë³€í•˜ê²Œ ì„¤ê³„ ê°€ëŠ¥

- ëˆ„ë½ - í”„ë ˆì„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìë°” ì½”ë“œë¥¼ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²½ìš°ì— ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •ì ì˜ì¡´ê´€ê³„ì¸ ê²½ìš°
```markdown
 public class OrderServiceImpl implements OrderService {
 private MemberRepository memberRepository;
private DiscountPolicy discountPolicy;
    @Autowired
 public void setMemberRepository(MemberRepository memberRepository) {
 this.memberRepository = memberRepository;
    }
    @Autowired
 public void setDiscountPolicy(DiscountPolicy discountPolicy) {
 this.discountPolicy = discountPolicy;
    }
 //...
 }
```
- @Autowiredê°€ í”„ë ˆì„ì›Œí¬ ì•ˆì—ì„œ ë™ì‘í•  ë–„ëŠ” ì˜ì¡´ê´€ê³„ê°€ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ë§Œ, ì§€ê¸ˆì€ í”„ë ˆì„ ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìë°” ì½”ë“œë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ì¤‘
```markdown
@Test
 void createOrder() {
 OrderServiceImpl orderService = new OrderServiceImpl();
    orderService.createOrder(1L, "itemA", 10000);
 }
```
- ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©´ ì‹¤í–‰ì€ ë˜ì§€ë§Œ, Null Point Exception ë°œìƒí•¨(memberRepository, discountPolicy ëª¨ë‘ ì˜ì¡´ê´€ê³„ ì£¼ì… ëˆ„ë½)
- ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ ìœ„ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ, ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ê·¸ë¦¬ê³  IDEì—ì„œ ë°”ë¡œ ì–´ë–¤ ê°’ì„ í•„ìˆ˜ë¡œ ì£¼ì…í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŒ(ë‹¨ì¶•í‚¤ ctrl+p)

- final í‚¤ì›Œë“œ - ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ í•„ë“œì— final í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ ìƒì„±ìì—ì„œ í˜¹ì‹œë¼ë„ ê°’ì´ ì„¤ì •ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ë¥¼ ì»´íŒŒì¼ ì‹œì ì— ë§‰ì•„ì¤€ë‹¤.
```markdown
 @Component
 public class OrderServiceImpl implements OrderService {
 private final MemberRepository memberRepository;
private final DiscountPolicy discountPolicy;
    @Autowired
 public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy 
discountPolicy) {
 this.memberRepository = memberRepository;
    }
 //...
 }
```
- ë‹¤ìŒ ì½”ë“œì—ì„œ í•„ìˆ˜ í•„ë“œì¸ discountPolicyì— ê°’ì„ ì„¤ì •í•´ì•¼ í•˜ëŠ”ë° ìë°”ëŠ” ì»´íŒŒì¼ ì‹œì ì— variable discountPolicy might not have been initializedë¼ëŠ” ì˜¤ë¥˜ ë°œìƒì‹œí‚¨ë‹¤.
- ì»´íŒŒì¼ ì˜¤ë¥˜ëŠ” ì„¸ìƒì—ì„œ ê°€ì¥ ë¹ ë¥´ê³ , ì¢‹ì€ ì˜¤ë¥˜ë‹¤.
- ë‚˜ë¨¸ì§€ ì£¼ì… ë°©ì‹ì€ ëª¨ë‘ ìƒì„±ì ì´í›„ì— í˜¸ì¶œë˜ë¯€ë¡œ, final í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
- ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤. ë‘ ë°©ì‹ì„ ë™ì‹œì— ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- í•­ìƒ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•´ë¼! ê·¸ë¦¬ê³  ê°€ë” ì˜µì…˜ì´ í•„ìš”í•˜ë©´ ìˆ˜ì •ì ì£¼ì…ì„ ì„ íƒí•´ë¼. í•„ë“œ ì£¼ì…ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”
  ê²Œ ì¢‹ë‹¤.

### âœ¨ 4. ë¡¬ë³µê³¼ ìµœì‹  íŠ¸ëœë“œ

```markdown
 @Component
public class OrderServiceImpl implements OrderService {
 private final MemberRepository memberRepository;
 private final DiscountPolicy discountPolicy;
    @Autowired
 public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy 
discountPolicy) {
 this.memberRepository = memberRepository;
 this.discountPolicy = discountPolicy;
    }
 }
```

- ë‹¤ìŒ ì½”ë“œëŠ” ë„ˆë¬´ ê¸¸ê³ , íƒ€ì ì¹˜ê¸°ê°€ ê·€ì°®ë‹¤.
- ìƒì„±ìê°€ ë”± 1ê°œë§Œ ìˆìœ¼ë©´ @Autowiredë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.
- ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ìš©í•˜ì—¬ @RequiredArgsConstructor ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ finalì´ ë¶™ì€ í•„ë“œ ëª¨ì•„ì„œ ìƒì„±ìë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
```markdown
@Component
 @RequiredArgsConstructor
 public class OrderServiceImpl implements OrderService {
 private final MemberRepository memberRepository;
 private final DiscountPolicy discountPolicy;
}
```
- ìµœì¢…ê²°ê³¼ ì½”ë“œëŠ” ì •ë§ ê°„ê²°í•˜ë‹¤.
- @Getter, @Setter ê°™ì€ í¸ë¦¬í•¨ì„ ìœ„í•œ ì• ë…¸í…Œì´ì…˜ë“¤ì„ ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•œë‹¤.


### âœ¨ 5. ì¡°íšŒ ë¹ˆì´ 2ê°œ ì´ìƒì¼ë•Œ

- @AutowiredëŠ” íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•œë‹¤.
```markdown
@Autowired
private DiscountPolicy discountPolicy
```
- ì´ ì½”ë“œëŠ” ë§ˆì¹˜ ac.getBean(DiscountPolicy.class)ì™€ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤. (ì‹¤ì œë¡œëŠ” ë” ë§ì€ ê¸°ëŠ¥ ì œê³µ)
- íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•˜ë©´ ì„ íƒí•œ ë¹ˆì´ 2ê°œ ì´ìƒì¼ ë•Œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.

```markdown
 @Component
 public class FixDiscountPolicy implements DiscountPolicy {}
@Component
public class RateDiscountPolicy implements DiscountPolicy {}
@Autowired
private DiscountPolicy discountPolicy
```
- ì´ë ‡ê²Œ ì˜ì¡´ê´€ê³„ ìë™ì£¼ì…ì„ ì‹¤í–‰í•˜ë©´ NoUniqueBeanDefinitionException ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
- í•˜ë‚˜ì˜ ë¹ˆì„ ê¸°ëŒ€í–ˆëŠ”ë° fixDiscountPolicy,RateDiscountPolicy 2ê°œê°€ ë°œê²¬ë˜ì—ˆë‹¤ê³  ì•Œë ¤ì£¼ëŠ” ê²ƒì´ë‹¤.
- ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.

#### 5-1. @Autowired í•„ë“œëª… ë§¤ì¹­

- @AutowiredëŠ” íƒ€ì… ë§¤ì¹­ì„ ì‹œë„í•˜ê³ , ì´ë•Œ ì—¬ëŸ¬ ë¹ˆì´ ìˆìœ¼ë©´ í•„ë“œ ì´ë¦„, íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ë¹ˆ ì´ë¦„ì„ ì¶”ê°€ ë§¤ì¹­í•œë‹¤.
- í•„ë“œ ëª… ë§¤ì¹­ì€ ë¨¼ì € íƒ€ì…ë§¤ì¹­ ì‹œë„ í›„, ê·¸ ê²°ê³¼ ì—¬ëŸ¬ ë¹ˆì´ ìˆì„ë•Œ ì¶”ê°€ë¡œ ë™ì‘í•¨
```markdown
@Autowired
 private DiscountPolicy discountPolicyë¥¼ ì´ë ‡ê²Œ ë³€ê²½
@Autowired
private DiscountPolicy rateDiscountPolicy
```

#### 5-2. @Qualifier ì‚¬ìš©

- ì¶”ê°€ êµ¬ë¶„ìë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ë²•, ë¹ˆ ì´ë¦„ ë³€ê²½í•˜ëŠ” ê²ƒ ì•„ë‹˜.
- ë¹ˆ ë“±ë¡ ì‹œ @Qualifierë¥¼ ë¶™ì—¬ì¤€ë‹¤.
```markdown
 @Component
 @Qualifier("mainDiscountPolicy")
 public class RateDiscountPolicy implements DiscountPolicy {}
```
- ì´ë ‡ê²Œ ë¹ˆ ë“±ë¡ ì‹œ ìƒì„±ì ìë™ ì£¼ì… ì˜ˆì‹œ
```markdown
 @Autowired
 public OrderServiceImpl(MemberRepository memberRepository,
                        @Qualifier("mainDiscountPolicy") DiscountPolicy 
discountPolicy) {
 this.memberRepository = memberRepository;
 this.discountPolicy = discountPolicy;
 }
```

- ìˆ˜ì •ì ìë™ì£¼ì… ì˜ˆì‹œ
```markdown
 @Autowired
 public DiscountPolicy setDiscountPolicy(@Qualifier("mainDiscountPolicy") 
DiscountPolicy discountPolicy) {
 this.discountPolicy = discountPolicy;
 }
```

#### 5-3. @Primary ì‚¬ìš©

- @Autowired ì‹œì— ì—¬ëŸ¬ ë¹ˆì´ ë§¤ì¹­ë˜ë©´ @Primaryê°€ ìš°ì„ ê¶Œì„ ê°€ì§„ë‹¤.
```markdown
 @Component
 @Primary
 public class RateDiscountPolicy implements DiscountPolicy {}
 @Component
 public class FixDiscountPolicy implements DiscountPolicy {}
```

#### 5-4. @Primary vs @Qualifier ì‚¬ìš©

- ìì£¼ ì‚¬ìš©í•˜ëŠ” ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆì—ì„œëŠ” @Primaryë¥¼ ì ìš©í•˜ì—¬ @Qualifier ë³´ë‹¤ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ê³ , ì„œë¸Œ ë°ì´í„° ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ì„ íšë“í•œëŠ, ìŠ¤í”„ë§ ë¹ˆì€ @Qualifierë¥¼ ì§€ì •í•˜ì—¬ ëª…ì‹œì ìœ¼ë¡œ íšë“í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©

### âœ¨ 6. ì¡°íšŒí•œ ë¹ˆì´ ëª¨ë‘ í•„ìš”í•  ë•Œ, List, Map

- ì˜ë„ì ìœ¼ë¡œ í•´ë‹¹ íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ ë‹¤ í•„ìš”í•œ ê²½ìš°ë„ ìˆë‹¤.
- í• ì¸ ì„œë¹„ë¥¼ ì œê³µí•˜ëŠ”ë°, í´ë¼ì´ì–¸íŠ¸ê°€ í• ì¸ì˜ ì¢…ë¥˜ (rate, fix)ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤ê³  ê°€ì •

```java
 package hello.core.autowired;
 import hello.core.AutoAppConfig;
 import hello.core.discount.DiscountPolicy;
 import hello.core.member.Grade;
 import hello.core.member.Member;
 import org.junit.jupiter.api.Test;
 import org.springframework.context.ApplicationContext;
 import 
org.springframework.context.annotation.AnnotationConfigApplicationContext;
 import java.util.List;
 import java.util.Map;
import static org.assertj.core.api.Assertions.assertThat;
 public class AllBeanTest {
    @Test
 void findAllBean() {
 ApplicationContext ac = new 
AnnotationConfigApplicationContext(AutoAppConfig.class, DiscountService.class);
 DiscountService discountService = ac.getBean(DiscountService.class);
 Member member = new Member(1L, "userA", Grade.VIP);
 int discountPrice = discountService.discount(member, 10000, 
"fixDiscountPolicy");
 assertThat(discountService).isInstanceOf(DiscountService.class);
 assertThat(discountPrice).isEqualTo(1000);
    }
 static class DiscountService {
 private final Map<String, DiscountPolicy> policyMap;
 private final List<DiscountPolicy> policies;
 public DiscountService(Map<String, DiscountPolicy> policyMap, 
List<DiscountPolicy> policies) {
 this.policyMap = policyMap;
 this.policies = policies;
 System.out.println("policyMap = " + policyMap);
 System.out.println("policies = " + policies);
        }
 public int discount(Member member, int price, String discountCode) {
 DiscountPolicy discountPolicy = policyMap.get(discountCode);
 System.out.println("discountCode = " + discountCode);
 System.out.println("discountPolicy = " + discountPolicy);
 return discountPolicy.discount(member, price);
        }
    }
 }
```

- DiscountServiceëŠ” Mapìœ¼ë¡œ ëª¨ë“  DiscountPolicyë¥¼ ì£¼ì… ë°›ìŒ.
- ì´ë•Œ AutoAppConfigë¥¼ í†µí•´ fix, rate ë‘˜ë‹¤ ì£¼ì…ë¨.
- discount() ë©”ì„œë“œì—ì„œ discountCodeë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ì•„ì„œ ì‹¤í–‰í•¨.
- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ìƒì„±ìì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë°›ê³ , ì—¬ê¸°ì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê¸°ë©´ í•´ë‹¹ í´ë˜ìŠ¤ê°€ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìë™ ë“±ë¡ë¨.
- AutoAppConfigì— ìˆëŠ” @ComponentScanìœ¼ë¡œ Component ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ë“¤, @Service, @Repositoryê°™ì€ ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€ ê²ƒë“¤ì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³ , DiscountServiceë¼ëŠ” í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì§ì ‘ ì…ë ¥í•¨ìœ¼ë¡œì¨ ì´ í´ë˜ìŠ¤ëŠ” ë³„ë‹¤ë¥¸ ì• ë…¸í…Œì´ì…˜ ì—†ì´ ë“±ë¡ë¨.