---
layout: single
title: "ì„œë¸”ë¦¿"
categories: [mvc1]
tags: [mvc1, TIL]
toc: true
author_profile: true
---

# â˜• Spring ê³µë¶€ ê¸°ë¡

## ğŸ“˜ í•™ìŠµ ë‚ ì§œ
- 2025-07-21

## ğŸ“… ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©

### âœ¨1. ì„œë¸”ë¦¿ ë“±ë¡, ì‚¬ìš©

- @WebServlet(name = "~" , urlPattern = "/hello")
- extends HttpServlet
- protected void service ì˜¤ë²„ë¼ì´ë”©
```markdown
@WebServlet(name = "helloServlet", urlPatterns = "/hello")
public class HelloServlet extends HttpServlet {
@Override
response)
protected void service(HttpServletRequest request, HttpServletResponse
throws ServletException, IOException {
System.out.println("HelloServlet.service");
System.out.println("request = " + request);
System.out.println("response = " + response);
String username = request.getParameter("username");
System.out.println("username = " + username);
response.setContentType("text/plain");
response.setCharacterEncoding("utf-8");
response.getWriter().write("hello " + username);
}
}
```
### âœ¨2. ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ë™ì‘ ë°©ì‹

- ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ë‚´ì¥ í†°ìº£ ì‚¬ìš©í•˜ì—¬ ì›¹ ì„œë²„ ìƒì„±
- í†°ìº£ì´ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ì—­í•  í•˜ë©°, ìŠ¤í”„ë§ì´ ì„œë¸”ë¦¿ ìƒì„±í•˜ê³  í†°ìº£ì— ë“±ë¡


### âœ¨ 3. HttpServletRequest

- ì—­í•  : ì„œë¸”ë¦¿ì´ Http ìš”ì²­ ë©”ì‹œì§€ë¥¼ íŒŒì‹±í•œ ê²ƒ
- ë‹¤ìŒê³¼ ê°™ì€ ìš”ì²­ ë©”ì‹œì§€ í¸ë¦¬í•˜ê²Œ ì¡°íšŒ ê°€ëŠ¥
```markdown
POST /save HTTP/1.1
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded
username=kim&age=20
```
- ì„ì‹œ ì €ì¥ì†Œ ê¸°ëŠ¥ ì œê³µ 
- ì €ì¥ : request.setAttribute(name,value)
- ì¡°íšŒ : request.getAttribute(name)
- ì„¸ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ : request.getSession(create: true)

### âœ¨ 4. HTTP ìš”ì²­ ë°ì´í„°

- Get ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
- ë©”ì‹œì§€ ë°”ë”” ì—†ì´, URLì˜ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì— ë°ì´í„°ë¥¼ í¬í•¨í•´ì„œ ì „ë‹¬
- /url?username=kim&age=20
- Post - HTML í¼
- content-type:application/x-www-form-urlencoded
- ë©”ì‹œì§€ ë°”ë””ì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ì „ë‹¬
- Http ë©”ì‹œì§€ ë°”ë””ì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­
- HTTP APIì—ì„œ ì£¼ë¡œ ì‚¬ìš© (JSON,XML,TEXT)
- ì£¼ë¡œ JSON ì‚¬ìš© (Post,Put,Patch)

#### 4-1. GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°

/request-param?username=park&age=20

íŒŒë¼ë¯¸í„° ì¡°íšŒ ë©”ì„œë“œë“¤ 
```markdown
String username = request.getParameter("username"); //ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ
Enumeration<String> parameterNames = request.getParameterNames(); //íŒŒë¼ë¯¸í„° ì´ë¦„ë“¤
ëª¨ë‘ ì¡°íšŒ
Map<String, String[]> parameterMap = request.getParameterMap(); //íŒŒë¼ë¯¸í„°ë¥¼ Mapìœ¼ë¡œ
ì¡°íšŒ
String[] usernames = request.getParameterValues("username"); //ë³µìˆ˜ íŒŒë¼ë¯¸í„° ì¡°íšŒ
```

#### 4-2. POST HTML Form

- ì£¼ë¡œ íšŒì›ê°€ì…, ìƒí’ˆ ì£¼ë¬¸ ë“±ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
- content-type:application/x-www-form-urlencoded
- ë©”ì‹œì§€ ë°”ë””ì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ë°ì´í„° ì „ë‹¬(username=park&age=20)

#### 4-3. API ë©”ì‹œì§€ ë°”ë”” ë‹¨ìˆœ í…ìŠ¤íŠ¸, JSON

- ë‹¨ìˆœ í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ë°”ë”” : hello
- JSON : {"username" : "hello", "age" : 20}

### 5. âœ¨ HttpServletResponse

- ì—­í•  : HTTP ì‘ë‹µí† ë“œ ì§€ì •, í—¤ë”ìƒì„±, ë°”ë”” ìƒì„±
- í¸ì˜ ê¸°ëŠ¥ ì œê³µ : Content-Type, ì¿ í‚¤, Redirect

#### 5-1. ì‘ë‹µ ë°ì´í„° ë‹¨ìˆœ í…ìŠ¤íŠ¸, HTML, JSON

- ë‹¨ìˆœ í…ìŠ¤íŠ¸ ì‘ë‹µ : PrintWriter writer = response.getWriter(); writer.println("ok")
- HTML ì‘ë‹µ
```markdown
writer.println("<html>");
writer.println("<body>");
writer.println(" <div>ì•ˆë…•?</div>");
writer.println("</body>");
writer.println("</html>");
```

- JSON ì‘ë‹µ
```markdown
@WebServlet(name = "responseJsonServlet", urlPatterns = "/response-json")
public class ResponseJsonServlet extends HttpServlet {
private ObjectMapper objectMapper = new ObjectMapper();
@Override
response)
protected void service(HttpServletRequest request, HttpServletResponse
throws ServletException, IOException {
//Content-Type: application/json
response.setHeader("content-type", "application/json");
response.setCharacterEncoding("utf-8");
HelloData data = new HelloData();
data.setUsername("kim");
data.setAge(20);
//{"username":"kim","age":20}
String result = objectMapper.writeValueAsString(data);
response.getWriter().write(result);
}
}
```

