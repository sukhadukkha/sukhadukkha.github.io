---
layout: single
title: "Docker 명령어들"
categories: [docker]
tags: [docker, TIL]
toc: true
author_profile: true
sidebar:
  nav: "docs"
---

# 이미지와 컨테이너 관리 명령어들

- docker ps (실행 중인 모든 컨테이너 출력)
- docker ps -a (중지된 컨테이너 포함한 과거에 있었던 모든 컨테이너 출력)
- docker run (이미지를 기반으로 한 새 컨테이너 만들고 시작, attached mode가 디폴트, 터미널 사용 불가)
  - docker run -p 8000:80 -d <image Id> (detached 모드로 컨테이너 실행)
  - docker run -i (인터렉티브 모드로 사용, 입력 받을 수 있도록 허용)
  - docker run -t (터미널 생성해줌)
  - docker run -p 3000:80 -d(detached mode로 실행) --rm <image Id> (컨테이너 중지될 때 실행한 컨테이너도 자동 삭제) 
- docker start <컨테이너 ID or name> (중지된 컨테이너 재실행, detached mode가 디폴트, 터미널 사용 가능)
  - docker start -a <ID or name> (중지된 컨테이너 attached 모드로 바로 실행)
  - docker start -i (사용자 입력 받도록 허용)
- docker stop <ID or name> (실행중인 컨테이너 중지)

- docker attach <name or id> (다시 컨테이너에 attached 모드로 연결)
- docker logs <name> (컨테이너의 과거 로그 출력)
  - docker logs -f <name> (컨테이너의 과거 로그 출력 및 수신 대기)
- docker rm <name> (컨테이너 제거, 컨테이너 실행중에는 제거 불가)
  - docker rmi <ID> (이미지 제거, 제거하려는 이미지 사용하고있는 컨테이너 부터 삭제 필요)
- docker images (이미지 출력, <none><none>아닌 것들만 출력됨)
  - docker images -a (모든 이미지 출력)


## attached mode , detached mode

- attached mode는 터미널 사용 불가
- 출력 결과를 로그에서 보여줌(예: console.log)
- detached mode는 터미널 사용 가능
- 출력 결과를 로그에서 보여주지 않음
- **둘의 공통점은 컨테이너가 실행 중이라는 것**
- 컨테이너 내부의 정보가 필요한 경우 docker attach, or docker logs를 사용하여 추가 정보 확인 가능
- Docker는 꼭 웹 서버만 사용할 수 있는 것이 아니라, 간단한 유틸리티 컨테이너도 도커화 시켜서 상호작용 할 수 있다.

---