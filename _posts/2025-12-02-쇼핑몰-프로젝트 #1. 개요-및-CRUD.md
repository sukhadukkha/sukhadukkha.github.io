---
layout: single
title: "스프링 부트 프로젝트(쇼핑몰) #1. 개요 및 현재 진행상황"
categories: [Project]
tags: [Shopping mall]
toc: true
author_profile: true
---

# 프로젝트 진행하는 이유 

- Spring Boot에 더 익숙해지기 위한 프로젝트

# 프로젝트 개요 

**사용할 기술 스택:**
- `Spring Boot 3.5.7 (Java 17)`
- `Spring Data JPA + QueryDSL`
- `MySQL 8`
- `Spring Security, JWT`
- ...

```yaml
spring:
  application:
    name: shopping-mall-back

  # Server Configuration
  server:
    port: 8080

  # MySQL Datasource Configuration
  datasource:
    url: jdbc:mysql://localhost:3306/shopping_mall?serverTimezone=Asia/Seoul
    username: # username
    password: # password "
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: create
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

# Logging Configuration
logging:
  level:
    org:
      hibernate:
        SQL: debug
        type:
          descriptor:
            sql: trace
```


## 구현 예정 기능

### 필수 기능
-  상품 목록 및 상세 페이지
-  장바구니 (Cart)
-  위시리스트 (Wishlist)
-  주문/결제 프로세스 (Order, Payment)
-  관리자 대시보드
-  CUSTOMER, SELLER, ADMIN 권한 분리

### 고급 기능
-  상품 추천 알고리즘
-  쿠폰 및 할인 시스템 (Coupon, Discount)
-  리뷰 및 평점 시스템 (Review, Rating)
-  주문 추적 기능 (Order Tracking)

--- 

## 현재 진행 상황

- Product CRUD
- User CRUD
- GlobalExceptionHandler

## API 명세

### Product API

상품 관리 관련 API

#### 1. 상품 생성
```http
POST /api/products
```

**Request Body:**
```json
{
  "name": "양말",
  "price": 1000,
  "description": "질 좋은 양말",
  "stockQuantity": 5
}
```

**Response:** `201 Created`
```json
{
  "id": 1,
  "name": "양말",
  "price": 1000,
  "description": "질 좋은 양말",
  "stockQuantity": 5,
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T10:00:00"
}
```

**Validation:**
- `name`: 필수, 공백 불가
- `price`: 필수, 0보다 큰 양수
- `description`: 필수, 공백 불가
- `stockQuantity`: 필수, 0 이상

---

#### 2. 상품 전체 조회
```http
GET /api/products
```

**Response:** `200 OK`
```json
[
  {
    "id": 1,
    "name": "양말",
    "price": 1000,
    "description": "질 좋은 양말",
    "stockQuantity": 5,
    "createdAt": "2024-12-02T10:00:00",
    "updatedAt": "2024-12-02T10:00:00"
  },
  {
    "id": 2,
    "name": "티셔츠",
    "price": 15000,
    "description": "면 100% 티셔츠",
    "stockQuantity": 10,
    "createdAt": "2024-12-02T11:00:00",
    "updatedAt": "2024-12-02T11:00:00"
  }
]
```

---

#### 3. 상품 단건 조회
```http
GET /api/products/{id}
```

**Path Parameters:**
- `id` (Long): 상품 ID

**Response:** `200 OK`
```json
{
  "id": 1,
  "name": "양말",
  "price": 1000,
  "description": "질 좋은 양말",
  "stockQuantity": 5,
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T10:00:00"
}
```

**Error:** `404 Not Found` - 상품이 존재하지 않을 때

---

#### 4. 상품 전체 수정 (PUT)
```http
PUT /api/products/{id}
```

**Path Parameters:**
- `id` (Long): 상품 ID

**Request Body:** (모든 필드 필수)
```json
{
  "name": "수정된 양말",
  "price": 2000,
  "description": "더 좋은 양말",
  "stockQuantity": 10
}
```

**Response:** `200 OK`
```json
{
  "id": 1,
  "name": "수정된 양말",
  "price": 2000,
  "description": "더 좋은 양말",
  "stockQuantity": 10,
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T15:00:00"
}
```

---

#### 5. 상품 부분 수정 (PATCH)
```http
PATCH /api/products/{id}
```

**Path Parameters:**
- `id` (Long): 상품 ID

**Request Body:** (선택적 필드)
```json
{
  "price": 3000
}
```

**Response:** `200 OK`
```json
{
  "id": 1,
  "name": "수정된 양말",
  "price": 3000,
  "description": "더 좋은 양말",
  "stockQuantity": 10,
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T16:00:00"
}
```

**Note:** 보내지 않은 필드는 변경되지 않음

---

#### 6. 상품 삭제
```http
DELETE /api/products/{id}
```

**Path Parameters:**
- `id` (Long): 상품 ID

**Response:** `204 No Content`

**Error:** `404 Not Found` - 상품이 존재하지 않을 때

---

#### 7. 상품 전체 삭제
```http
DELETE /api/products/all
```

**Response:** `204 No Content`

**Warning:** 모든 상품 데이터가 삭제됩니다.

---

### User API

사용자 관리 관련 API입니다.

#### 1. 회원가입
```http
POST /api/users
```

**Request Body:**
```json
{
  "loginId": "gildong123",
  "password": "12345678",
  "name": "홍길동",
  "phone": "010-1234-5678",
  "address": "서울시 강남구"
}
```

**Response:** `201 Created`
```json
{
  "id": 1,
  "loginId": "gildong123",
  "name": "홍길동",
  "phone": "010-1234-5678",
  "address": "서울시 강남구",
  "role": "CUSTOMER",
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T10:00:00"
}
```

**Validation:**
- `loginId`: 필수, 4-20자(구현 예정)
- `password`: 필수, 최소 8자(구현 예정)
- `name`: 필수
- `phone`: 선택
- `address`: 선택

**Note:**
- password는 응답에 포함되지 않음 (보안)
- 기본 역할은 CUSTOMER

---

#### 2. 사용자 조회
```http
GET /api/users/{id}
```

**Path Parameters:**
- `id` (Long): 사용자 ID

**Response:** `200 OK`
```json
{
  "id": 1,
  "loginId": "gildong123",
  "name": "홍길동",
  "phone": "010-1234-5678",
  "address": "서울시 강남구",
  "role": "CUSTOMER",
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T10:00:00"
}
```

**Error:** `404 Not Found` - 사용자가 존재하지 않을 때

---

#### 3. 사용자 정보 수정
```http
PUT /api/users/{id}
```

**Path Parameters:**
- `id` (Long): 사용자 ID

**Request Body:**
```json
{
  "name": "홍길동",
  "phone": "010-9876-5432",
  "address": "서울시 서초구"
}
```

**Response:** `200 OK`
```json
{
  "id": 1,
  "loginId": "jiho123",
  "name": "홍길동",
  "phone": "010-9876-5432",
  "address": "서울시 서초구",
  "role": "CUSTOMER",
  "createdAt": "2024-12-02T10:00:00",
  "updatedAt": "2024-12-02T15:00:00"
}
```

**Note:** loginId와 password는 수정 불가

---

#### 4. 사용자 삭제
```http
DELETE /api/users/{id}
```

**Path Parameters:**
- `id` (Long): 사용자 ID

**Response:** `204 No Content`

**Error:** `404 Not Found` - 사용자가 존재하지 않을 때

---

## 에러 응답

모든 에러는 일관된 형식으로 반환됩니다.

### Validation 실패 (400 Bad Request)

```json
{
  "timestamp": "2024-12-02T10:00:00",
  "status": 400,
  "error": "Validation Failed",
  "message": "입력값 검증에 실패했습니다",
  "errors": {
    "name": "상품명은 필수입니다",
    "price": "가격은 0보다 커야 합니다"
  }
}
```

### 리소스 없음 (404 Not Found)

```json
{
  "timestamp": "2024-12-02T10:00:00",
  "status": 404,
  "error": "Not Found",
  "message": "상품을 찾을 수 없습니다. ID: 999"
}
```

### 중복 에러 (409 Conflict)

```json
{
  "timestamp": "2024-12-02T10:00:00",
  "status": 409,
  "error": "Duplicate LoginId",
  "message": "이미 사용 중인 아이디입니다: gildong123"
}
```

---

## 향후 구현 예정

### 인증/인가 (Authentication/Authorization)

**예정 API:**
```http
POST /api/auth/signup     # 회원가입
POST /api/auth/login      # 로그인
POST /api/auth/refresh    # 토큰 갱신
POST /api/auth/logout     # 로그아웃
```

**역할 기반 권한:**
- `CUSTOMER`: 상품 조회, 주문
- `SELLER`: 상품 등록/수정/삭제
- `ADMIN`: 모든 권한 + 사용자 관리

---





